# リリース日単位でリリースノートを作成
# プルリクテンプレ通りでproductionブランチの
name: Auto generate release note by release date 
on: 
  push:
  #pull_request:
  #  types: closed
    #branches: production
  workflow_dispatch:  

jobs:
  create-release-note:
    runs-on: ubuntu-latest
    env:
      GH_TOKEN: ${{ github.token }}
    steps:
      - name: create branch list
        uses: actions/github-script@v6
        with:
          script: |
            const pullrequests = await github.rest.pulls.list({
                                   owner: context.repo.owner,
                                   repo: context.repo.repo,
                                   state: 'close'
                               });

            console.log(pullrequests);           
            console.log(pullrequests.data[0].head);
            console.log(pullrequests.data[0].base);
